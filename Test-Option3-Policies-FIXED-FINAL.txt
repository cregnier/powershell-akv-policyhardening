[2026-01-29 11:05:45] [INFO] === Azure Policy Assignment Inventory Script ===
[2026-01-29 11:05:45] [INFO] Sprint 1, Story 1.1 - Environment Discovery & Baseline Assessment
[2026-01-29 11:05:45] [INFO] 
[2026-01-29 11:05:45] [SUCCESS] Connected to Azure as: theregniers@hotmail.com
[2026-01-29 11:05:45] [INFO] Tenant: 21bd262e-3255-411e-8345-51102d9d9e9e
[2026-01-29 11:05:45] [INFO] Retrieving all subscriptions in tenant...
Unable to acquire token for tenant '28a0fe2d-1db4-4c3e-9a58-142d0f38e709' with error 'Authentication failed against tenant 28a0fe2d-1db4-4c3e-9a58-142d0f38e709. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 28a0fe2d-1db4-4c3e-9a58-142d0f38e709'.'
Unable to acquire token for tenant '93298d06-3fff-4626-8e13-397bf9bd4c30' with error 'Authentication failed against tenant 93298d06-3fff-4626-8e13-397bf9bd4c30. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 93298d06-3fff-4626-8e13-397bf9bd4c30'.'
Unable to acquire token for tenant '218094f2-2976-4255-a15c-4008e6c8a18b' with error 'Authentication failed against tenant 218094f2-2976-4255-a15c-4008e6c8a18b. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 218094f2-2976-4255-a15c-4008e6c8a18b'.'
[2026-01-29 11:05:47] [SUCCESS] Found 3 subscription(s)
[2026-01-29 11:05:47] [INFO] Processing subscription 1 of 3: MSDN Platforms Subscription
Unable to acquire token for tenant '' with error 'Authentication failed against tenant 28a0fe2d-1db4-4c3e-9a58-142d0f38e709. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 28a0fe2d-1db4-4c3e-9a58-142d0f38e709'.'
Unable to acquire token for tenant '' with error 'Authentication failed against tenant 93298d06-3fff-4626-8e13-397bf9bd4c30. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 93298d06-3fff-4626-8e13-397bf9bd4c30'.'
Unable to acquire token for tenant '' with error 'Authentication failed against tenant 218094f2-2976-4255-a15c-4008e6c8a18b. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 218094f2-2976-4255-a15c-4008e6c8a18b'.'
[2026-01-29 11:05:48] [SUCCESS]   Found 31 policy assignment(s)
[2026-01-29 11:05:48] [INFO]     Processing: Microsoft Azure region access restriction blocking West Europe region
[2026-01-29 11:05:48] [INFO]     Processing: 
[2026-01-29 11:05:48] [INFO]     Processing: 
[2026-01-29 11:05:49] [INFO]     Processing: 
[2026-01-29 11:05:49] [INFO]     Processing: 
[2026-01-29 11:05:49] [INFO]     Processing: 
[2026-01-29 11:05:49] [INFO]     Processing: 
[2026-01-29 11:05:49] [INFO]     Processing: 
[2026-01-29 11:05:49] [INFO]     Processing: 
[2026-01-29 11:05:49] [INFO]     Processing: 
[2026-01-29 11:05:49] [INFO]     Processing: 
[2026-01-29 11:05:50] [INFO]     Processing: 
[2026-01-29 11:05:50] [INFO]     Processing: 
[2026-01-29 11:05:50] [INFO]     Processing: 
[2026-01-29 11:05:50] [INFO]     Processing: 
[2026-01-29 11:05:50] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:51] [INFO]     Processing: 
[2026-01-29 11:05:52] [INFO]     Processing: 
[2026-01-29 11:05:52] [INFO]     Processing: 
[2026-01-29 11:05:52] [INFO]     Processing: 
[2026-01-29 11:05:52] [INFO]     Processing: 
[2026-01-29 11:05:52] [INFO]     Processing: 
[2026-01-29 11:05:52] [INFO] Processing subscription 2 of 3: Azure subscription 1
Unable to acquire token for tenant '' with error 'Authentication failed against tenant 28a0fe2d-1db4-4c3e-9a58-142d0f38e709. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 28a0fe2d-1db4-4c3e-9a58-142d0f38e709'.'
Unable to acquire token for tenant '' with error 'Authentication failed against tenant 93298d06-3fff-4626-8e13-397bf9bd4c30. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 93298d06-3fff-4626-8e13-397bf9bd4c30'.'
Unable to acquire token for tenant '' with error 'Authentication failed against tenant 218094f2-2976-4255-a15c-4008e6c8a18b. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 218094f2-2976-4255-a15c-4008e6c8a18b'.'
[2026-01-29 11:05:53] [WARN]   Skipping - subscription in different tenant (MFA required or no access)
[2026-01-29 11:05:53] [INFO] Processing subscription 3 of 3: Pay-As-You-Go
Unable to acquire token for tenant '' with error 'Authentication failed against tenant 28a0fe2d-1db4-4c3e-9a58-142d0f38e709. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 28a0fe2d-1db4-4c3e-9a58-142d0f38e709'.'
Unable to acquire token for tenant '' with error 'Authentication failed against tenant 93298d06-3fff-4626-8e13-397bf9bd4c30. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 93298d06-3fff-4626-8e13-397bf9bd4c30'.'
Unable to acquire token for tenant '' with error 'Authentication failed against tenant 218094f2-2976-4255-a15c-4008e6c8a18b. User interaction is required. This may be due to the conditional access policy settings such as multi-factor authentication (MFA). If you need to access subscriptions in that tenant, please rerun 'Connect-AzAccount' with additional parameter '-TenantId 218094f2-2976-4255-a15c-4008e6c8a18b'.'
[2026-01-29 11:05:54] [WARN]   Skipping - subscription in different tenant (MFA required or no access)
[2026-01-29 11:05:54] [INFO] 
[2026-01-29 11:05:54] [INFO] Exporting inventory to: .\PolicyAssignmentInventory-20260129-110545.csv
[2026-01-29 11:05:54] [SUCCESS] Export completed successfully!
[2026-01-29 11:05:54] [SUCCESS] Total policy assignments inventoried: 31
[2026-01-29 11:05:54] [INFO] 
[2026-01-29 11:05:54] [INFO] === Summary Statistics ===
[2026-01-29 11:05:54] [INFO] Total Subscriptions Scanned: 3
[2026-01-29 11:05:54] [INFO] Total Policy Assignments Found: 31
[2026-01-29 11:05:54] [ERROR] Failed to export inventory: The property 'Count' cannot be found on this object. Verify that the property exists.
